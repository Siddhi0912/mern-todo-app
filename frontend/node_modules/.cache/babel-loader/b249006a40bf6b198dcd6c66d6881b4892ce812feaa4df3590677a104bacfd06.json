{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Siddhi\\\\Downloads\\\\todo-app-with-login-system\\\\todo-app-with-login-system\\\\frontend\\\\src\\\\components\\\\TodoList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TodoList = ({\n  token\n}) => {\n  _s();\n  const [todos, setTodos] = useState([]);\n  const [title, setTitle] = useState(\"\");\n  const [editingId, setEditingId] = useState(null);\n  const [editingTitle, setEditingTitle] = useState(\"\");\n\n  // Fetch Todos\n  const fetchTodos = useCallback(async () => {\n    try {\n      const res = await axios.get(\"http://localhost:5000/api/todo\", {\n        headers: {\n          \"x-auth-token\": token\n        }\n      });\n      setTodos(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n  }, [token]);\n  useEffect(() => {\n    if (token) fetchTodos();\n  }, [token, fetchTodos]);\n\n  // Add a Todo\n  const addTodo = async () => {\n    if (!title.trim()) return;\n    try {\n      await axios.post(\"http://localhost:5000/api/todo\", {\n        title\n      }, {\n        headers: {\n          \"x-auth-token\": token\n        }\n      });\n      setTitle(\"\");\n      fetchTodos(); // Refresh list\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // Delete a Todo\n  const deleteTodo = async id => {\n    try {\n      await axios.delete(`http://localhost:5000/api/todo/${id}`, {\n        headers: {\n          \"x-auth-token\": token\n        }\n      });\n      fetchTodos(); // Refresh list\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // Start Editing\n  const startEditing = todo => {\n    setEditingId(todo._id);\n    setEditingTitle(todo.title);\n  };\n\n  // Cancel Editing\n  const cancelEditing = () => {\n    setEditingId(null);\n    setEditingTitle(\"\");\n  };\n\n  // Edit a Todo\n  const editTodo = async id => {\n    if (!editingTitle.trim()) return;\n    try {\n      await axios.put(`http://localhost:5000/api/todo/${id}`,\n      // Ensure this matches the backend route\n      {\n        title: editingTitle\n      }, {\n        headers: {\n          \"x-auth-token\": token\n        }\n      });\n      setEditingId(null);\n      setEditingTitle(\"\");\n      fetchTodos(); // Refresh list\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Todo List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: title,\n      onChange: e => setTitle(e.target.value),\n      placeholder: \"Add a todo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addTodo,\n      children: \"Add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: todos.map(todo => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: editingId === todo._id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: editingTitle,\n            onChange: e => setEditingTitle(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"save-button\",\n            onClick: () => editTodo(todo._id),\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-button\",\n            onClick: cancelEditing,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [todo.title, /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"edit-button\",\n            onClick: () => startEditing(todo),\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-button\",\n            onClick: () => deleteTodo(todo._id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true)\n      }, todo._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n_s(TodoList, \"OY6SNJMypsfGxFvFLxlBlwzOIZY=\");\n_c = TodoList;\nexport default TodoList;\nvar _c;\n$RefreshReg$(_c, \"TodoList\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","TodoList","token","_s","todos","setTodos","title","setTitle","editingId","setEditingId","editingTitle","setEditingTitle","fetchTodos","res","get","headers","data","err","console","error","addTodo","trim","post","deleteTodo","id","delete","startEditing","todo","_id","cancelEditing","editTodo","put","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","map","className","_c","$RefreshReg$"],"sources":["C:/Users/Siddhi/Downloads/todo-app-with-login-system/todo-app-with-login-system/frontend/src/components/TodoList.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport axios from \"axios\";\n\nconst TodoList = ({ token }) => {\n  const [todos, setTodos] = useState([]);\n  const [title, setTitle] = useState(\"\");\n  const [editingId, setEditingId] = useState(null);\n  const [editingTitle, setEditingTitle] = useState(\"\");\n\n  // Fetch Todos\n  const fetchTodos = useCallback(async () => {\n    try {\n      const res = await axios.get(\"http://localhost:5000/api/todo\", {\n        headers: { \"x-auth-token\": token },\n      });\n      setTodos(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n  }, [token]);\n\n  useEffect(() => {\n    if (token) fetchTodos();\n  }, [token, fetchTodos]);\n\n  // Add a Todo\n  const addTodo = async () => {\n    if (!title.trim()) return;\n    try {\n      await axios.post(\n        \"http://localhost:5000/api/todo\",\n        { title },\n        { headers: { \"x-auth-token\": token } }\n      );\n      setTitle(\"\");\n      fetchTodos(); // Refresh list\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // Delete a Todo\n  const deleteTodo = async (id) => {\n    try {\n      await axios.delete(`http://localhost:5000/api/todo/${id}`, {\n        headers: { \"x-auth-token\": token },\n      });\n      fetchTodos(); // Refresh list\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // Start Editing\n  const startEditing = (todo) => {\n    setEditingId(todo._id);\n    setEditingTitle(todo.title);\n  };\n\n  // Cancel Editing\n  const cancelEditing = () => {\n    setEditingId(null);\n    setEditingTitle(\"\");\n  };\n\n  // Edit a Todo\n  const editTodo = async (id) => {\n    if (!editingTitle.trim()) return;\n    try {\n        await axios.put(\n            `http://localhost:5000/api/todo/${id}`, // Ensure this matches the backend route\n            { title: editingTitle },\n            { headers: { \"x-auth-token\": token } }\n          );\n          \n      setEditingId(null);\n      setEditingTitle(\"\");\n      fetchTodos(); // Refresh list\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Todo List</h1>\n      <input\n        type=\"text\"\n        value={title}\n        onChange={(e) => setTitle(e.target.value)}\n        placeholder=\"Add a todo\"\n      />\n      <button onClick={addTodo}>Add</button>\n      <ul>\n        {todos.map((todo) => (\n          <li key={todo._id}>\n            {editingId === todo._id ? (\n              <>\n                <input\n                  type=\"text\"\n                  value={editingTitle}\n                  onChange={(e) => setEditingTitle(e.target.value)}\n                />\n                 <button className=\"save-button\" onClick={() => editTodo(todo._id)}>\n        Save\n      </button>\n      <button className=\"cancel-button\" onClick={cancelEditing}>\n        Cancel\n      </button>\n    </>\n  ) : (\n    <>\n      {todo.title}\n      <button className=\"edit-button\" onClick={() => startEditing(todo)}>\n        Edit\n      </button>\n      <button className=\"delete-button\" onClick={() => deleteTodo(todo._id)}>\n        Delete\n      </button>\n              </>\n            )}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default TodoList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}